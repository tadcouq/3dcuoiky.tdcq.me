import{S as B,W as F,V as I,P as q,O as $,A as J,D as N,C as Q,M,a as U,b as X,G as b,c as S,d as Y,T as Z,e as K,f as ee,g as P,h as v,i as oe}from"./GLTFLoader-Dnbm3Y3-.js";import{D as y}from"./DRACOLoader-BLXmvd5g.js";function de(O){const n=new B,d=new F({alpha:!0,antialias:!1});d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(window.devicePixelRatio),d.shadowMap.enabled=!0,d.shadowMap.type=I,O.appendChild(d.domElement);const i=new q(75,window.innerWidth/window.innerHeight,.1,1e3);i.position.set(5,5,5),i.lookAt(0,2,0);let m=i;const h=new $(i,d.domElement);h.enableDamping=!0,h.target.set(0,2,0),h.update();const _=new J(16777215,.2);n.add(_);const t=new N(16777215,3);t.position.set(12.388,5.76,-15),t.castShadow=!0,t.shadow.camera.top=2,t.shadow.camera.bottom=-2,t.shadow.camera.left=-2,t.shadow.camera.right=2,t.shadow.camera.near=.1,t.shadow.camera.far=40,n.add(t);const R=new Q().setPath("./Tex/day_skybox/").load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"],()=>{console.log("Skybox images loaded successfully")},void 0,e=>{console.error("Error loading skybox images:",e)});n.background=R;const s=new M(new U(500,500),new X({color:8421504}));s.rotation.x=Math.PI/2,s.receiveShadow=!0,s.position.y=-.2,n.add(s);const x=new b,L=new y;L.setDecoderPath("examples/js/libs/draco/"),x.setDRACOLoader(L),x.load("./3D/01_hanoi_circuit.glb",function(e){const o=e.scene;o.position.set(0,0,0),o.scale.set(1,1,1),o.receiveShadow=!0,n.add(o)},function(e){console.log(e.loaded/e.total*100+"% maps loaded")},function(e){console.error("maps: An error happened, better check the fukin code again")});const f={},D=new b,A=new y;A.setDecoderPath("/draco/"),D.setDRACOLoader(A);let c;D.load("./3D/01_rb19.glb",function(e){const o=e.scene,a=e.animations;a&&a.length&&(c=new S(o),a.forEach(r=>{c.clipAction(r).play()})),e.cameras.forEach((r,j)=>{f[`rb19_${j+1}`]=r}),z(),n.add(o)},function(e){console.log(e.loaded/e.total*100+"% rb19 loaded")},function(e){console.error("rb19: An error happened, better check the fukin code again")});const C=new b,k=new y;k.setDecoderPath("/draco/"),C.setDRACOLoader(k);let l;C.load("./3D/01_may_bay.glb",function(e){const o=e.scene,a=e.animations;a&&a.length&&(l=new S(o),a.forEach(r=>{l.clipAction(r).play()})),n.add(o)},function(e){console.log(e.loaded/e.total*100+"% maybay loaded")},function(e){console.error("maybay: An error happened, better check the fukin code again")});function z(){const e=document.createElement("select");e.style.position="absolute",e.style.bottom="50px",e.style.left="10px",e.style.zIndex="1000",e.style.padding="2px",e.style.backgroundColor="white",e.style.border="1px solid #ccc";const o=document.createElement("option");o.value="default",o.text="Default Camera",e.appendChild(o),Object.keys(f).forEach(a=>{const r=document.createElement("option");r.value=a,r.text=a,e.appendChild(r)}),e.addEventListener("change",a=>{m=a.target.value==="default"?i:f[a.target.value]}),document.body.appendChild(e)}const T=new Y(1,32,32),W=new Z().load("./Tex/soccer.jpg"),G=new K({map:W}),p=new M(T,G);p.position.set(0,.012,0),p.scale.set(.01,.01,.01),p.castShadow=!0,n.add(p);const g=new ee;m.add(g);const u=new P(g),w=new P(g);new v().load("./Audio/01_V6HybridEngines.mp3",function(e){u.setBuffer(e),u.setLoop(!0),u.setVolume(.2),u.play()}),new v().load("./Audio/wind.mp3",function(e){w.setBuffer(e),w.setLoop(!0),w.setVolume(1),w.play()});function E(){requestAnimationFrame(E);const e=H.getDelta();c&&c.update(e),l&&l.update(e),V()}const H=new oe;function V(){d.render(n,m||i)}E(),window.addEventListener("resize",()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)})}export{de as init};
